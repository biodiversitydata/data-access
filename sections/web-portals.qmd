# {{< fa globe size=1x >}} &nbsp;&nbsp;Web portals


<!--Slide 1 -->

## Example: you're doing some species distribution models for metropolitan France. 

> You already have a **list of species** and their **occurrences in space and time**. 

You need: 

- spatial data of France, to map the occurrences

- climate data : temperature and precipitation



<!--Slide 2 -->

## Example: you're doing some species distribution models for metropolitan France. 

> You already have a **list of species** and their **occurrences in space and time**. 

You need: 

- spatial data of France, to map the occurrences

- climate data : temperature and precipitation

 <br> 

#### Where will you get that from ?

An **open data portal** is any online platform which supports users in accessing collections of open data. They can be governmental (e.g. [data.gouv.fr](www.data.gouv.fr)), or from organizations, NGOs, or from an individual initiative.


<!--Slide 2bis -->

## Example: you're doing some species distribution models for metropolitan France. 

> You already have a **list of species** and their **occurrences in space and time**. 

You need: 

- spatial data of France, to map the occurrences

- climate data : temperature and precipitation

 <br> 

#### Where will you get that from ?

An **open data portal** is any online platform which supports users in accessing collections of open data. They can be governmental (e.g. [data.gouv.fr](www.data.gouv.fr)), or from organizations, NGOs, or from an individual initiative.

<br> 

In our case, a good option is the **[GADM portal](https://gadm.org/)**

They have a nice description of [file formats](https://gadm.org/formats.html) too.




<!--Slide 3 -->

## Download data 

> In R the most commonly used formats are `Geopackages` and `Shapefiles`.

#### Open in R: 


:::: {.columns}

::: {.column width=45%}

Have a look at the Geopackage data :


```{r}
#| echo: true

sf::st_layers(here::here("data/gadm41_FRA.gpkg"))
```


All these layers correspond to different levels of subdivisions.

:::

::: {.column width=10%}
:::

::: {.column width=45%}


| layer_name              | features                  |
|:------------------------|:--------------------------|
| ADM_ADM_0               | France contours           |
| ADM_ADM_1               | Region countours          |
| ADM_ADM_2               | Départements contours     |


:::

::::



<!--Slide 4 -->

## Choose a layer for your analysis

Let's keep the regional boundaries :

```{r}
#| echo: true

library(ggplot2)
regions <- sf::read_sf(here::here("data/gadm41_FRA.gpkg"), layer = "ADM_ADM_1")
head(regions)
```


<!--Slide 5 -->

## Plot

```{r}
#| echo: true

ggplot(regions) + geom_sf(aes(fill = NAME_1)) + theme_bw() 
```


<!--Slide 6 -->

## Example: you're doing some species distribution models for metropolitan France.

Now you have: 

- spatial data of France, to map the occurrences &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{< fa circle-check >}}

But you still need:

- temperature and precipitation data




<!--Slide 7 -->

## Some portals are more straight-foraward than others...

#### WorldClim

:::: {.columns}

::: {.column width=50%}

[WorldClim](https://worldclim.org/) is OK to navigate.

You need to know what you are looking for : resolution, time period, monthly or yearly averages, geographic coverage, etc.

:::
::: {.column width=50%}
:::
::::


<!--Slide 8 -->

## Some portals are more straight-foraward than others...

#### WorldClim

:::: {.columns}

::: {.column width=50%}

[WorldClim](https://worldclim.org/) is OK to navigate.

You need to know what you are looking for : resolution, time period, monthly or yearly averages, geographic coverage, etc.

There are typical [Bioclimatic variables](https://worldclim.org/data/bioclim.html), among which temperature an precipitation averages for past climate (< 2000).

:::


::: {.column width=50%}

| BioClim layer ID  | Contents                                                  |
|:------------------|:----------------------------------------------------------|
| BIO1              | Annual Mean Temperature                                   |
| BIO2              | Mean Diurnal Range (Mean of monthly (max temp - min temp))|
| BIO3              | Isothermality (BIO2/BIO7) (×100)                          |
| BIO4              | Temperature Seasonality (standard deviation ×100)         |
| BIO5              | Max Temperature of Warmest Month                          |
| BIO6              | Min Temperature of Coldest Month                          |
| ... BI019         | Precipitation of Coldest Quarter                          |



:::

::::



<!--Slide 9 -->

## Some portals are more straight-foraward than others...

#### WorldClim

:::: {.columns}

::: {.column width=50%}

[WorldClim](https://worldclim.org/) is OK to navigate.

You need to know what you are looking for : resolution, time period, monthly or yearly averages, geographic coverage, etc.

There are typical [Bioclimatic variables](https://worldclim.org/data/bioclim.html), among which temperature an precipitation averages for past climate (< 2000).

:::


::: {.column width=50%}

| BioClim layer ID  | Contents                                                  |
|:------------------|:----------------------------------------------------------|
| BIO1              | Annual Mean Temperature                                   |
| BIO2              | Mean Diurnal Range (Mean of monthly (max temp - min temp))|
| BIO3              | Isothermality (BIO2/BIO7) (×100)                          |
| BIO4              | Temperature Seasonality (standard deviation ×100)         |
| BIO5              | Max Temperature of Warmest Month                          |
| BIO6              | Min Temperature of Coldest Month                          |
| ... BI019         | Precipitation of Coldest Quarter                          |



:::

::::


<br> <br>

For more precise and contemporary climate data, check out CHELSA. **Good luck !!**

> *download > EUR11 > obs > annual > V2.1 > bio01d >* aaaand here you'll find `netCDF` files ".nc" for yearly annual means of air temperature from 1991-2020....



<!--Slide 10 -->

## Traits ? The Pandora box (again)



<!--Slide 11 -->

## Traits ? The Pandora box (again)


#### **TRY data portal for plant traits**: [https://www.try-db.org/TryWeb/dp.php](https://www.try-db.org/TryWeb/dp.php)

Check out the [data explorer](https://www.try-db.org/de/de.php) section. 

To access TRY traits, you'll need to:

1. register
2. file a request for which you write a short description of your project
3. wait for a text file by email within a few days



<!--Slide 12 -->

## Traits ? The Pandora box (again)


#### **TRY data portal for plant traits**: [https://www.try-db.org/TryWeb/dp.php](https://www.try-db.org/TryWeb/dp.php)

Check out the [data explorer](https://www.try-db.org/de/de.php) section. 

To access TRY traits, you'll need to:

1. register
2. file a request for which you write a short description of your project
3. wait for a text file by email within a few days

<br> <br>

#### **opentraits portal**: [https://opentraits.org/datasets.html](https://opentraits.org/datasets.html)




<!--Slide 13 -->

## Retrieving data from repositories{.nostretch}

<br> 

:::: { .columns }
::: { .column .center width="50%"}
![[Zenodo](https://zenodo.org/)](images/Zenodo_Logo.jpg){width="50%"}
:::
::: { .column .center width="50%"}
![[FigShare](https://figshare.com/)](images/figshare_logo.jpeg){width="50%"}
:::
::::


This usually happens when you want to retrieve data from a paper or study.

<br> <br>

FORCIS, from [Chaabane *et al.* (2023)](https://www.nature.com/articles/s41597-023-02264-2), published their [database](https://zenodo.org/records/10640925) on Zenodo.



<!--Slide 10 -->

## Retrieving data from repositories{.nostretch}

<br> 

:::: { .columns }
::: { .column .center width="50%"}
![[Zenodo](https://zenodo.org/)](images/Zenodo_Logo.jpg){width="50%"}
:::
::: { .column .center width="50%"}
![[FigShare](https://figshare.com/)](images/figshare_logo.jpeg){width="50%"}
:::
::::


This usually happens when you want to retrieve data from a paper or study.

<br> <br>

FORCIS, from [Chaabane *et al.* (2023)](https://www.nature.com/articles/s41597-023-02264-2), published their [database](https://zenodo.org/records/10640925) on Zenodo.


They also made an [awesome package](https://docs.ropensci.org/forcis/), to download, select, filter, visualize the data. 

> Because YES, there are tools in R to access data (‾◡◝) ![](images/forcis_pkg.png){width="10%"}