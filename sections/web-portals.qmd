# {{< fa globe size=1x >}} &nbsp;&nbsp;Web portals


<!--Slide 0 -->

## Web portals

> Any online platform (website) which supports users in accessing collections of open data. They can be governmental (e.g. [data.gouv.fr](www.data.gouv.fr)), or from organizations, NGOs, or from an individual initiative.

. . .

<br />

{{< fa circle-right >}} &nbsp;You access data in a web browser (by clicking)

. . .

<br />

- Click on a ready-to-download file (e.g. GADM)
- Fill a form to download a user-specific file (e.g. GBIF)
- Fill a form to get data through a URL (e.g. BirdLife)
- Sometimes, you need to registrer (e.g. TRY)


<!--Slide 1 -->

## Case study

> You're doing some species distribution models for metropolitan France. 
> You already have a **list of species** and their **occurrences in space and time**. 

Now, you need to retrieve: 

- Spatial boundaries of **France regions** to map the species occurrences
- **Climate data** (temperature and precipitation) to fit models



<!--Slide 2bis -->

## Access data - France regions

The [GADM data portal](https://gadm.org/) is a good option to get spatial boundaries of any country in the World at different administrative levels.


![](images/gadm-portal.png){width=50% fig-align='center'}



> They have a nice description of [file formats](https://gadm.org/formats.html).


. . .

<br />

{{< fa circle-right >}} &nbsp;Let's use the **Geopackage** format (`.gpkg`)


<!--Slide 3 -->

## Access data - France regions

Let's list the layers available in the `gadm41_FRA.gpkg` file

<br />

:::: {.columns}

::: {.column width=45%}

```{r}
#| echo: true

sf::st_layers(
  here::here("data", "gadm41_FRA.gpkg")
)
```

:::

::: {.column width=10%}
:::

::: {.column width=45%}

All these layers correspond to different levels of subdivisions.

| Layer name              | Description               |
|:------------------------|:--------------------------|
| ADM_ADM_0               | France contours           |
| ADM_ADM_1               | Region countours          |
| ADM_ADM_2               | Departments contours      |
| ADM_ADM_3               | Communes contours         |


:::

::::



<!--Slide 4 -->

## Access data - France regions

Let's import the regional subdivision

<br />

:::: {.columns}

::: {.column width=50%}

```{r}
#| echo: true
#| eval: false

regions <- sf::st_read(
  dsn = here::here("data", "gadm41_FRA.gpkg"),
  layer = "ADM_ADM_1"
)

head(regions)
```
:::

::: {.column width=50%}
:::

::::

```{r}
#| echo: false
#| eval: true

regions <- sf::st_read(
  dsn = here::here("data", "gadm41_FRA.gpkg"), 
  layer = "ADM_ADM_1", 
  quiet = TRUE
)

head(regions)
```



## Access data - France regions

Let's import the regional subdivision

<br />

:::: {.columns}

::: {.column width=50%}

```{r}
#| echo: true
#| eval: false

regions <- sf::st_read(
  dsn = here::here("data", "gadm41_FRA.gpkg"),
  layer = "ADM_ADM_1"
)

head(regions)
```
:::

::: {.column width=50%}
```{r}
#| echo: true
#| eval: false

library(ggplot2)

ggplot(regions) + 
  geom_sf(aes(fill = NAME_1)) + 
  theme_bw()
```
:::

::::

```{r}
#| echo: false
#| eval: true

regions <- sf::st_read(
  dsn = here::here("data", "gadm41_FRA.gpkg"), 
  layer = "ADM_ADM_1", 
  quiet = TRUE
)

head(regions)
```





<!--Slide 5 -->

## Access data - France regions

<br />

```{r}
#| echo: false
#| eval: true

library(ggplot2)

ggplot(regions) + 
  geom_sf(aes(fill = NAME_1)) + 
  theme_bw()
```


<!--Slide 6 -->

## Access data - Climate data

:::: {.columns}

::: {.column width=50%}
![[WorldClim portal](https://worldclim.org/)](images/worldclim.png)
:::

::: {.column width=50%}
![[Chelsa portal](https://www.chelsa-climate.org/)](images/chelsa.png)
:::

::::


. . .

<br />

> You need to know what you are looking for: resolution, time period, monthly or yearly averages, geographic coverage, etc.



<!--Slide 12 -->

## Trait data - The Pandora box


{{< fa circle-right >}} &nbsp;[TRY data portal](https://www.try-db.org/TryWeb/dp.php) for plant traits

To access **TRY** database, you'll need to:

1. register
2. fill a request for which you write a short description of your project
3. wait for a text file by email within a few days

. . .

<br> <br>

{{< fa circle-right >}} &nbsp;[OpenTraits portal](https://opentraits.org/datasets.html)




<!--Slide 13 -->

## Retrieving data from repositories{.nostretch}

<br> 

:::: { .columns }
::: { .column .center width="50%"}
![[Zenodo](https://zenodo.org/)](images/Zenodo_Logo.jpg){width="50%"}
:::
::: { .column .center width="50%"}
![[FigShare](https://figshare.com/)](images/figshare_logo.jpeg){width="50%"}
:::
::::

<br>

> This usually happens when you want to retrieve data from a paper or study.

<br> <br>

FORCIS, from [Chaabane *et al.* (2023)](https://www.nature.com/articles/s41597-023-02264-2), published their [database](https://zenodo.org/records/10640925) on Zenodo.
